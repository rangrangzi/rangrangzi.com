    var song_list = [{
        "song_name": "快餐",
        "singer": "王唯楚/Pily",
        "singer_img": "img/bg1.jpg",
        "song_url": "media/快餐.wav",
        "num":0
    }, {
        "song_name": "快餐",
        "singer": "王唯楚/Pily",
        "singer_img": "img/bg2.jpg",
        "song_url": "media/快餐.wav",
        "num":1
    }];
    var lrc_list = ["[00:00.28]快餐\n" +
    "[00:01.20]CN-A51-23-00018\n" +
    "[00:01.00]ISBN 978-7-88084-439-9\n" +
    "[00:01.68]作词：王唯楚/Pily\n" +
    "[00:02.52]作曲：王唯楚/Pily\n" +
    "[00:03.41]制作人：h3R3/王唯楚\n" +
    "[00:04.11]编曲：PoloBear\n" +
    "[00:04.81]监制：h3R3/王唯楚\n" +
    "[00:05.61]录音：h3R3\n" +
    "[00:06.38]音频编辑：h3R3\n" +
    "[00:07.08]混音：h3R3\n" +
    "[00:07.77]母带：Colin Leonard\n" +
    "[00:09.94]Verse1:\n" +
    "[00:10.94]你的idol站我身边风头会被我占尽\n" +
    "            [00:14.22]百分百天赋加努力也不会占卦算命\n" +
    "            [00:17.02]Hater陷入我的音乐像别天神的幻境\n" +
    "            [00:18]\n" +
    "            [00:22.81]Rap stars真黑怕\n" +
    "            [00:24.03]每天都在凹造型\n" +
    "            [00:25.56]人设造的真伟大\n" +
    "            [00:26.81]但说唱脂肪消耗零\n" +
    "            [00:29.83]下届我一定要报名\n" +
    "            [00:30.91]“虽然我没基础 但是挂上电 它超好听”\n" +
    "            [00:34.03]伪君子们一个都躲不掉的真香定律\n" +
    "            [00:36.81]得而不得他们总是在老子身上比喻\n" +
    "            [00:39.62]Like布罗利越战越勇没时间听你们分享抑郁\n" +
    "            [00:42.34]他们盲目奔向地狱 我无止境 增强继续\n" +
    "            [00:45.24]Hiphop已变成了大乱斗\n" +
    "            [00:47.16]她崇拜的idol像是滑稽的花脸狗\n" +
    "            [00:50.00]喜欢听些tiktok rap加伴奏瞎乱吼\n" +
    "            [00:52.72]我把她看透混圈别和我搭讪gilr\n" +
    "            [00:55.55]Everyday替行业高兴却又悲哀\n" +
    "            [00:58.42]邪恶的资本淹没多少音乐鬼才\n" +
    "            [01:01.21]我管你抱着什么目的登上这擂台\n" +
    "            [01:03.99]快餐音乐是听众等待我新歌的备胎\n" +
    "            [01:07.05]Hook:\n" +
    "            [01:08.05]I made different hot shit\n" +
    "            [01:10.40]it hits different now\n" +
    "            [01:11.71]I made cold taste\n" +
    "            [01:12.75]me and vibes cold out\n" +
    "            [01:14.44]Too many noise anywhere\n" +
    "            [01:15.77]Thats so loud\n" +
    "            [01:17.28]When I came let it burn out\n" +
    "            [01:20.72]I made the different hot shit\n" +
    "            [01:23.55]Snack menu I feel sick\n" +
    "            [01:26.36]I made it always\n" +
    "            [01:29.47]I made it always\n" +
    "            [01:29.56]Verse2:\n" +
    "            [01:30.56]搞个beat 找人feat 好神秘\n" +
    "            [01:32.89]作秀像在下象棋 为了利益假装peace\n" +
    "            [01:35.71]小兄弟 保个秘 我有特殊超能力\n" +
    "            [01:38.55]像是一拳超人孤独到我没有假想敌\n" +
    "            [01:41.45]学会倾听保持清醒经历让我变成熟\n" +
    "            [01:44.23]沉淀心灵仔细品品像是82年红酒\n" +
    "            [01:47.02]他们说我的歌太拉还是要点进来懂哥你心里面阴暗的多精彩\n" +
    "            [01:50.18]我从来都没说要证明我清白keyboard man代入 像受到了侵害\n" +
    "            [01:54.06]你们对我真了解\n" +
    "            [01:55.57]网上copy的bull shit\n" +
    "            [01:57.01]显的你们好纯洁\n" +
    "            [01:58.29]真可惜每一张专辑赞美on my ears\n" +
    "            [02:01.13]惹的同行们都羡慕 天赋能力兼顾\n" +
    "            [02:02.84]和上天的眷顾 cheers wooo\n" +
    "            [02:04.42]Hook:\n" +
    "            [02:05.42]I made different hot shit\n" +
    "            [02:06.86]it hits different now\n" +
    "            [02:08.24]I made cold taste\n" +
    "            [02:09.12]me and vibes cold out\n" +
    "            [02:10.92]Too many noise anywhere\n" +
    "            [02:11.80]Thats so loud\n" +
    "            [02:13.83]When I came let it burn out\n" +
    "            [02:17.47]I made the different hot shit\n" +
    "            [02:20.14]Snack menu I feel sick\n" +
    "            [02:23.00]I made it always\n" +
    "            [02:25.95]I made it always\n" +
    "            [02:26.89]我15年的歌放到现在它依旧滚烫\n" +
    "            [02:29.15]jealousy充斥你的情绪所以口吐芬芳\n" +
    "            [02:31.87]PG的作品不行但是人品一定很棒\n" +
    "            [02:34.77]谢谢你们的赞赏让我获取更多声望\n" +
    "            [02:37.83]Pull up me\n" +
    "            [02:39.21]I need  lots of new fishes\n" +
    "            [02:40.81]Sell ur dream\n" +
    "            [02:42.05]It doesn't affect  me\n" +
    "            [02:43.78]Catch me red handed\n" +
    "            [02:44.86]真相通常血腥\n" +
    "            [02:46.20]嫌弃又想靠近的\n" +
    "            [02:47.78]往往非常致命\n" +
    "            [03:56]end"
    ,"[00:00]快餐 - 王唯楚/Pily\n" +
        "[00:09.94]Verse1:\n" +
        "[00:10.94]你的idol站我身边风头会被我占尽\n" +
        "            [00:14.22]百分百天赋加努力也不会占卦算命\n" +
        "            [00:17.02]Hater陷入我的音乐像别天神的幻境\n" +
        "            [01:06]\n" +
        "            [01:12]\n" +
        "            [01:21]\n" +
        "            [01:27]\n" +
        "            [01:36]\n" +
        "            [01:39]\n" +
        "            [01:42]\n" +
        "            [01:48]\n" +
        "            [01:54]\n" +
        "            [02:00]\n" +
        "            [02:03]\n" +
        "            [02:06]\n" +
        "            [02:12]\n" +
        "            [02:18]\n" +
        "            [02:27]\n" +
        "            [02:33]\n" +
        "            [02:39]\n" +
        "            [02:45]\n" +
        "            [03:15]\n" +
        "            [03:21]\n" +
        "            [03:30]\n" +
        "            [03:36]\n" +
        "            [03:45]\n" +
        "            [03:48]\n" +
        "            [03:51]\n" +
        "            [03:57]\n" +
        "            [04:03]\n" +
        "            [04:09]\n" +
        "            [04:12]\n" +
        "            [04:15]\n" +
        "            [04:21]\n" +
        "            [04:27]\n" +
        "            [04:36]\n" +
        "            [04:42]\n" +
        "            [04:48]\n" +
        "            [04:54]"];
    var volume,lrc_txt = [],lrc_time = [],open_lrc = true;
    var song = document.getElementById("my_audio");
    var songmsg = {
        sTomin:function(s){
            var h;
            h  =   Math.floor(s/60);
            s  =   s%60;
            h    +=    '';
            s    +=    '';
            h  =   (h.length==1)?'0'+h:h;
            s  =   (s.length==1)?'0'+s:s;
            s = parseInt(s);
            if(s<10){
                s = "0"+s;
            }
            return h+':'+s;
        },
        time_to_sec:function(time){
            var s = '';

            var min = time.split(':')[0];
            var sec = time.split(':')[1];

            s = Number(min*60) + Number(sec);

            return s;
        },
        songPause:function () {
            song.pause();
            $("#cover").removeClass("btn_pause").addClass("btn_play");
        },
        songPlay:function () {
            //layer.msg('播放开始', {icon: 1});
            song.play();
            $("#cover").removeClass("btn_play").addClass("btn_pause");
        },
        nextSong:function () {
            var next_num = song.getAttribute("data-num");
            next_num++;
            if(next_num >= song_list.length){
                layer.msg('这已经是最后一首了！', {icon: 2});
                return;
            }else{
                this.controlSong(next_num);
            }
        },
        prveSong:function () {
            var next_num = song.getAttribute("data-num");
            next_num--;
            if(next_num < 0){
                layer.msg('这已经是第一首了！', {icon: 2});
                return;
            }else{
                this.controlSong(next_num);
            }
        },
        controlSong:function (next_num) {
            song.setAttribute("data-num",next_num);
            song.src = song_list[next_num].song_url;
            songmsg.setMsg(next_num);
            songmsg.songPlay();
        },
        songMuted:function (isMuted) {
            if (isMuted){
                $(".vlue-icon i").addClass("v_c").removeClass("v_o");
            }else {
                $(".vlue-icon i").addClass("v_o").removeClass("v_c");
            }
            song.muted = isMuted;
        },
        setPos:function (pos) { //设置当前时间
            song.currentTime = pos;
        },
        setVolume:function (volume) {
            song.volume = volume;
        },
        setMsg(data_num){
            $(".song img").attr("src",song_list[data_num].singer_img);
            $("#goSinger").text(song_list[data_num].singer+" - "+song_list[data_num].song_name);
            this.getLrc(data_num);
        },
        setTotaltime:function () {
            $("#totalTime").text(songmsg.sTomin(song.duration));
        },
        setLrc:function(currentTime){
            for (var i = 0;i<lrc_time.length;i++){
                if(currentTime>=songmsg.time_to_sec(lrc_time[i])){
                    if(i>=9){
                        $("[data-idd='"+(i-9)+"']").css("display","none");
                    }else{
                        $("[data-idd]").css("display","block");
                    }
                    $("[data-idd='"+i+"']").css({"color":"deeppink"});
                    $(".cover_container [data-idd!='"+i+"']").css('color',"#fff");
                }else{
                    $("[data-idd='"+(i-9)+"']").css("display","block");
                }
            }
        },
        getLrc:function (id) {
            var arrTxt;
            var list_array = lrc_list[id].split("\n");
            lrc_time.splice(0, lrc_time.length);
            lrc_txt.splice(0, lrc_txt.length);
            for (var i=0;i<list_array.length;i++){
                arrTxt = list_array[i].split("]");
                lrc_time.push(arrTxt[0].split("[")[1]);
                lrc_txt.push(arrTxt[1]);
            }
            if(lrc_txt.length != 0){
                var a = [];
                for (var i = 0;i<lrc_txt.length;i++){
                    a.push("<p data-idd='"+i+"'>"+lrc_txt[i]+"</p>");
                }
                $(".cover_container").html(a.join(""));
            }else{
                $(".cover_container").html("<p style='padding-top: 60%'>暂无歌词</p>");
            }
        },
        loadRotationChart:function(){
            var a = ["img/bg1.jpg","img/bg2.jpg"];
            var imgfile = [];
            for (var i in a){
                imgfile.push('<div class="banner" style="background-image: url('+a[i]+');"></div>');
            }
            $("#bg").find('div').html(imgfile.join(''));
            layui.use(['carousel', 'form'], function(){
                var carousel = layui.carousel,form = layui.form;;
                carousel.render({
                    elem: '#bg'
                    ,arrow:'none'
                    ,interval: 5000
                    ,anim: 'fade'
                    ,height: '100%'
                    ,width:'100%'
                    ,indicator:'none'
                    ,autoplay:true
                });
            });
        }
    }
    song.addEventListener('timeupdate', function() {
        curtime = parseInt(song.currentTime,10);
        var bar = (curtime/song.duration)*100;
        bar = bar.toFixed(2);
        $("#play_on").css({"transform":"translateX("+bar+"%)"});
        $("#currentTime").text(songmsg.sTomin(curtime));
        //如果显示歌词打开则调用歌词函数
        if(open_lrc){
            songmsg.setLrc(song.currentTime);
        }
    });
    song.addEventListener("ended", function() {
        var data_num = song.getAttribute("data-num");
        if(data_num == song_list.length-1){
            songmsg.songPause();
        }else{
            $("#play_right").click();
        }
    });
    song.addEventListener("playing",function () {
        songmsg.setTotaltime();
    });
    song.addEventListener('error', function(){
        layer.msg('数据错误！', {icon: 2});
    });